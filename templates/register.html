{% extends "base.html" %}
{% block content %}


<div class="container-fluid">
                <div class="row">


                    <div class="col-md-4">
                         <form id="userform" action="/users/register/" method="post" autocomplete="off">
                        <div class="card">
                            <div class="card-header bg-light">
                                用户信息
                            </div>

                            <div class="card-body">
                                <div class="row mb-5">

                                    <div class="col-md-12">
                                        <div class="row">
                                            <div class="col-md-6">

                                                <div class="form-group">

                                                    <label class="form-control-label">用户名</label>
                                                    <input class="form-control" name="username" value="">
                                                    <input name="user_id" value="" type="hidden">
                                                </div>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-control-label">密码</label>
                                                    <input type="password" class="form-control" name="password" value="">
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-control-label">角色</label>

                                                     <select class="form-control" name="role" >
                                                           <option value="0"> 系统管理员 </option>
                                                           <option value="1"> 运维人员 </option>
                                                           <option value="2"> 值班人员 </option>
                                                     </select>
                                                </div>
                                            </div>
                                        </div>

                                         <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <label class="form-control-label" >手机号</label>
                                                    <input class="form-control" name="mobile" value="">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div>
                                <button type="submit" class="btn btn-success"><i class="fa fa-align-center"></i>&nbsp;&nbsp; 保存 &nbsp;&nbsp;</button>
                                <button type="button" class="btn btn-primary" onclick="javascript :history.back(-1);"><i class="icon icon-arrow-left-circle"></i>&nbsp;&nbsp;返回&nbsp;&nbsp;</button>
                                </div>



                        </div>
                                {% csrf_token %}
                        </div></form>
                    </div>
                </div>
            </div>
{% endblock %}

{% block register %}active{% endblock %}

{% block custom_js %}

<script language="javascript">

$().ready(function() {
    jQuery.validator.addMethod("isMobile", function(value, element) {
                    var length = value.length;
                    var mobile = /^1[0-9]{10}$/;
                    // 或者 var mobile = /^1[3,4,5,7,8][0-9]{9}$/;
                    return this.optional(element) || (length == 11 && mobile.test(value));
                }, "请正确填写您的手机号码");
// 在键盘按下并释放及提交后验证提交表单
  $("#userform").validate({
    submitHandler: function() {
      alert("提交事件!");
      form.submit();
    },
    rules: {
      username: {
        required: true,
        minlength: 2,
        maxlength: 12
      },
      password: {
        required: true,
        minlength: 6,
        maxlength: 12
      },
      mobile: {
        required: false,
        isMobile: true
      },
    },
    messages: {
      username: {
        required: "请输入用户名",
        minlength: "用户名不能少于2个字母",
        maxlength: "用户名不能多于12个字母"
      },
      password: {
        required: "请输入密码",
        minlength: "密码长度不能少于2个字母",
        maxlength: "密码长度不能多于12个字母"
      },
     }

    })
});

</script>

{% endblock %}
{% block custom_style %}
<style>
.error{
	color:red;
}
</style>
{% endblock %}